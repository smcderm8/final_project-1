<div class="page-header">
  <h2><%= @match.name %></h2>
</div>

<div class="row">
  <div class="col-md-12 mb-2">
    <dl class="dl-horizontal">

      <dd><img src = "<%= @match.course.image_url %>" width = 400, height = 200</dd>

      <dt>Course</dt>
      <dd><%= @match.course.name %></dd>

      <dt>Tee time</dt>
      <dd><%= @match.tee_time %></dd>

      <dt>Winning team</dt>
      <dd><%= @match.winning_team.name %></dd>

      <dt>Booth player 1</dt>
      <dd><%= @match.booth_player_1.name %></dd>

      <dt>Booth player 2</dt>
      <dd><%= @match.booth_player_2.name %></dd>

      <dt>Kellogg player 1</dt>
      <dd><%= @match.kellogg_player_1.name %></dd>

      <dt>Kellogg player 2</dt>
      <dd><%= @match.kellogg_player_2.name %></dd>

    </dl>
    
  </div>
</div>
    
    <% @holes.each do |hole| %>
      <div class="row">
        <div class="col-md-8 col-md-offset-2">
          <div class="panel panel-default">
            <div class="panel-heading">
              <h2 class="panel-title">
                Hole #<%= hole.hole_number %> - 
                Par <%= hole.par %> - 
                <%= hole.yardage %> Yards   
                  <small>
                     - Handicap #<%= hole.handicap %>
                  </small>
              </h2>
            </div>
            
            
            <% if hole.scores.exists?(@match.booth_player_1.id) %>
              <% hole.scores.each do |score| %>
                  <div class="panel-body">
                    <%= score.player.name %>
                    <%= score %>
                  </div>
              <% end %>
              
            <% else %>
            
              <div class="row">
                <div class="col-md-8 col-md-offset-2 mb-2">
                  <div class="panel panel-default">
                    <div class="panel-heading">
                      <h3 class="panel-title">
                       Booth Player 1:
                        <a href="/players/<%= @match.booth_player_1.id %>">
                          <%= @match.booth_player_1.name %>
                        </a>
                      </h3>
                    </div>
                    <div class="panel-body">
                      <div class="lead">
                        <form action="/create_score" method="post">
                          <!-- Hidden input for authenticity token to protect from forgery -->
                          <input name="authenticity_token" type="hidden" value="<%= form_authenticity_token %>">
                          
                          <input type="hidden" id="match_id" name="match_id" value="<%= @match.id %>">
                          
                          <input type="hidden" id="hole_id" name="hole_id" value="<%= hole.id %>">
                          
                          <input type="hidden" id="booth_player_1.id" name="booth_player_1.id" value="<%= @match.booth_player_1.id %>">
            
                          <!-- Label and input for title -->
                          <div class="form-group">
                            <label for="title" class="control-label">
                              Score
                            </label>
            
                            <input type="number" id="score" name="score" placeholder="Score" class="form-control">
                          </div>
            
                          <button class="btn btn-default">
                            Post Score
                          </button>
                        </form>
                      </div>  
                    </div> 
                  </div>
                </div>
              </div>
            
            <% end %>
            
            
          </div>
        </div>
      </div>
    <% end %>

    <div class="btn-group btn-group-justified">
      <a href="/matches" class="btn btn-primary">
        Back
      </a>
      <a href="/matches/<%= @match.id %>/edit" class="btn btn-warning">
        Edit
      </a>
      <a href="/delete_match/<%= @match.id %>" class="btn btn-danger" rel="nofollow">
        Delete
      </a>
    </div>
